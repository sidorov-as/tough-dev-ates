# Awesome Task Exchange System

## Модель данных

![img](architecture-diagrams-data-model.drawio.svg)

## Event Storming

![img](architecture-diagrams-event-storming.drawio.svg)

## Сервисы

![img](architecture-diagrams-services.drawio.svg)

## События

### Бизнес-события

* **Актор**: Пользователь  
  **Команда**: Регистрация  
  **Данные**: Логин, пароль, email-адрес  
  **Событие**: `User.Registered`


* **Актор**: Сотрудник  
  **Команда**: Вход в систему  
  **Данные**: Логин, пароль  
  **Событие**: `User.Authorized`


* **Актор**: Сотрудник  
  **Команда**: Создание задачи  
  **Данные**: Описание  
  **Событие**: `Task.Created` 


* **Актор**:   
  **Команда**: Выбор исполнителя  
  **Данные**: Список исполнителей, задача  
  **Событие**: `Assignee.Selected`


* **Актор**:   
  **Команда**: Назначить исполнителя  
  **Данные**: Исполнитель, задача  
  **Событие**: `Assignee.Assigned`


* **Актор**:   
  **Команда**: Назначить исполнителя  
  **Данные**: Исполнитель, задача  
  **Событие**: `Task.Suspended`


* **Актор**:   
  **Команда**: Отмена выполнения задачи  
  **Данные**: Исполнитель, задача  
  **Событие**: `Task.Cancelled`


* **Актор**: Сотрудник  
  **Команда**: Отметить задачу выполненной  
  **Данные**: Исполнитель, задача  
  **Событие**: `Task.Completed`


* **Актор**:  
  **Команда**: Расчёт стоимости задачи  
  **Данные**: Публичный id задачи  
  **Событие**: `Task.PriceCalculated`

  
* **Актор**:  
  **Команда**: Списание средств при ассайне задачи  
  **Данные**: Публичный id задачи, Публичный id сотрудника 
  **Событие**: `Account.TaskSecurityDepositWithheld`

  
* **Актор**:  
  **Команда**: Начисление средств при выполнении задачи  
  **Данные**: Публичный id задачи, id счёта, сумма
  **Событие**: `Account.TaskPaid`

  
* **Актор**:  
  **Команда**: Возврат списанных средств  
  **Данные**: id счёта, сумма 
  **Событие**: `Account.TaskSecurityDepositReturned`

  
* **Актор**:  
  **Команда**: Расчёт ежедневной выплаты  
  **Данные**: id счёта, сумма 
  **Событие**: `Account.WageCalculated`

  
* **Актор**:  
  **Команда**: Выплата средств  
  **Данные**: id счёта, сумма 
  **Событие**: `Account.WagePaid`


* **Актор**:  
  **Команда**: Отправка уведомления сотруднику  
  **Данные**: id счёта, сумма 
  **Событие**: `Account.WagePaymentNotificationSent`

  
* **Актор**:  
  **Команда**: Обнуление баланса  
  **Данные**: id счёта 
  **Событие**: `Account.BalanceReset`


### CUD-события


* **Актор**:   
  **Команда**: Создание счёта  
  **Данные**: Публичный id сотрудника  
  **Событие**: `Account.Created`


* **Актор**:   
  **Команда**: Назначение исполнителя  
  **Данные**: Публичный id исполнителя, id задачи  
  **Событие**: `Task.AssigneeUpdated`  


* **Актор**:   
  **Команда**: Отмена выполнения задачи  
  **Данные**: Публичный id исполнителя, id задачи  
  **Событие**: `Task.StatusUpdated`   


* **Актор**: Сотрудник  
  **Команда**: Отметить задачу выполненной  
  **Данные**: Публичный id исполнителя, id задачи  
  **Событие**: `Task.StatusUpdated`    
